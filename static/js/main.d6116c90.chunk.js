(this["webpackJsonponline-jsv"]=this["webpackJsonponline-jsv"]||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/danny_logo.97d4289a.png"},35:function(e,t,a){e.exports=a(74)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),s=(a(40),a(2)),o=(a(41),a(42),a(3)),u=a.n(o),i=a(7),m=(a(44),a(5)),d=a.n(m),p=a(1),h=a.n(p),f=function(e){var t=Object(n.useState)({id:""}),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({pw:""}),m=Object(s.a)(o,2),p=m[0],f=m[1],E=function(t,a){e.updateToken(t,a)};return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"\ub85c\uadf8\uc778"),r.a.createElement("form",null,r.a.createElement("input",{id:"idbox",type:"text",value:c.id,placeholder:"\uc544\uc774\ub514",onChange:function(e){return l({id:e.target.value})}}),r.a.createElement("input",{id:"pwbox",type:"password",value:p.pw,placeholder:"\ube44\ubc00\ubc88\ud638",onChange:function(e){return f({pw:e.target.value})}})),r.a.createElement("button",{id:"login_btn",onClick:function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({url:"http://danny-server.kro.kr:5000/user/login",method:"post",data:{id:c.id,pw:p.pw}});case 2:t=e.sent,console.log(t),201===t.status?alert(t.data.data):200===t.status&&(a=t.data.data,h.a.save("userdata",{id:c.id,token:a.token,username:a.username,rank:a.rank,refresh:a.refreshToken},{path:"/"}),alert("\ub85c\uadf8\uc778\uc644\ub8cc!\n\ud654\uba74\uc744 \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694!"),E(!0,a.username));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}},"\ub85c\uadf8\uc778"))},E=(a(62),function(e){var t=Object(n.useState)({username:""}),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({uId:""}),m=Object(s.a)(o,2),p=m[0],h=m[1],f=Object(n.useState)({uPw:""}),E=Object(s.a)(f,2),v=E[0],k=E[1],b=Object(n.useState)({uPwC:""}),g=Object(s.a)(b,2),w=g[0],j=g[1],y=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c.username&&""!==p.uId&&""!==v.uPw&&""!=w.uPwC&&v.uPw==w.uPwC){e.next=4;break}alert("\uc774\ub7f0 \ubb34\uc5b8\uac00 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694! \ube44\ubc00\ubc88\ud638\uccb4\ud06c\ub97c \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud588\ub098\uc694?"),e.next=9;break;case 4:return e.next=6,d()({url:"http://danny-server.kro.kr:5000/user/registerUser",method:"post",data:{username:c.username,id:p.uId,pw:v.uPw,rank:0}});case 6:t=e.sent,console.log(t),201===t.status?alert(t.data.data):200===t.status&&alert("\ud68c\uc6d0\uac00\uc785 \uc644\ub8cc!\n\ub85c\uadf8\uc778 \ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4!");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Register"},r.a.createElement("h1",null,"\ud68c\uc6d0\uac00\uc785"),r.a.createElement("form",null,r.a.createElement("input",{id:"nameBox",type:"text",placeholder:"\uc0ac\uc6a9\uc790\uba85",value:c.username,onChange:function(e){return l({username:e.target.value})}}),r.a.createElement("input",{id:"idbox",type:"text",placeholder:"\uc544\uc774\ub514",value:p.uId,onChange:function(e){return h({uId:e.target.value})}}),r.a.createElement("input",{id:"pwbox",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:v.uPw,onChange:function(e){return k({uPw:e.target.value})}}),r.a.createElement("input",{id:"pwcheckbox",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",value:w.uPwC,onChange:function(e){return j({uPwC:e.target.value})}})),r.a.createElement("button",{id:"register_btn",onClick:y},"\ud68c\uc6d0\uac00\uc785"))}),v=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"popup-body",onClick:e.closePopup}),r.a.createElement("div",{className:"popup-inside"},0===e.idx?r.a.createElement(f,{updateToken:function(t,a){e.updateToken(t,a),console.log("CALL")},className:"inner"}):r.a.createElement(E,null)))},k=a(32),b=a.n(k),g=(a(63),function(e){return r.a.createElement("div",{className:"Header-HeaderTop"},r.a.createElement("img",{src:b.a,className:"topLogo",alt:"logo"}),r.a.createElement("ul",{className:"sideLeft"},r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"\uba54\uc778\ud398\uc774\uc9c0")),r.a.createElement("li",null,r.a.createElement("a",{href:"/problems"},"\ubb38\uc81c\ubaa9\ub85d")),null!=h.a.load("userdata")&&1===h.a.load("userdata").rank?r.a.createElement("li",null,r.a.createElement("a",{href:"/admin"},"\uad00\ub9ac\uc790\ud398\uc774\uc9c0")):r.a.createElement("li",null)),e.hasToken?r.a.createElement("ul",{className:"sideRight"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){h.a.remove("userdata"),e.updateToken(!1,null)}},"Welcome, ",e.username))):r.a.createElement("ul",{className:"sideRight"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){e.press(0)}},"\ub85c\uadf8\uc778")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){e.press(1)}},"\ud68c\uc6d0\uac00\uc785"))))}),w=a(11),j=a(18),y={};d.a.defaults.headers.common.authorization=null==h.a.load("userdata")?"":h.a.load("userdata").token,d.a.interceptors.request.use((function(e){return null!=h.a.load("userdata")&&(e.headers.authorization=h.a.load("userdata").token),e}),(function(e){Promise.reject(e)})),d.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401!=e.response.status||t._retry?Promise.reject(e):(t._retry=!0,d.a.post("http://danny-server.kro.kr:5000/user/refresh",{id:h.a.load("userdata").id,refreshToken:h.a.load("userdata").refresh}).then((function(e){if(200===e.status){var a=h.a.load("userdata");return a.token=e.data.data.token,h.a.save("userdata",a,{path:"/"}),d.a.defaults.headers.common.authorization=a.token,d()(t)}})))})),y.requestPost=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:t,method:"post",data:a},e.next=3,d()(n).catch((function(e){return n.headers={"Content-type":"application/json",authorization:h.a.load("userdata").token},e.config.ret?d()(n):Promise.reject(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y.requestGet=function(){var e=Object(i.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=4;break}return e.abrupt("return",d()({url:a,method:"get"}));case 4:return n={url:a,method:"get"},e.next=7,d()(n).catch((function(e){return console.log(e.config.ret),n.headers={"Content-type":"application/json",authorization:h.a.load("userdata").token},e.config.ret?d()(n):Promise.reject(e)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var x=y,O=(a(64),function(e){var t=e.title,a=e.type,c=(null!=e.page&&e.page,e.width,Object(n.useState)({posts:[]})),l=Object(s.a)(c,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){function t(){return(t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("problems"!==a){t.next=5;break}return t.next=3,x.requestGet(!1,"http://danny-server.kro.kr:5000/board/getProblemsByLim/"+e.limit+"/"+(e.page-1)).then((function(e){console.log(e),m({posts:e.data})})).catch((function(e){return console.log(e)}));case 3:t.next=7;break;case 5:return t.next=7,x.requestGet(!1,"http://danny-server.kro.kr:5000/board/getTypePost/"+a+"/7").then((function(e){console.log(e),m({posts:e.data})})).catch((function(e){return console.log(e)}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"Board"},r.a.createElement("h1",null,t),r.a.createElement("div",{className:"inner"},r.a.createElement("ul",null,"problems"===a?o.posts.length>0?o.posts.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:"/problem/"+e.id,className:"lft"},e.name))})):r.a.createElement("li",null,r.a.createElement("div",{className:"noData"},r.a.createElement("a",{href:"#"},"\uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."))):o.posts.length>0?o.posts.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:"/boards/"+e.id,className:"lft"},e.title))})):r.a.createElement("li",null,r.a.createElement("div",{className:"noData"},r.a.createElement("a",{href:"#"},"\uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."))))))}),N=(a(65),function(e){var t;return r.a.createElement("div",null,r.a.createElement("h1",null,"HOME!"),r.a.createElement("div",{className:"contents"},r.a.createElement("div",{className:"Home-cards"},r.a.createElement(O,{className:"inner_card",width:800,title:"\uacf5\uc9c0\uc0ac\ud56d",type:"acco",page:1}),r.a.createElement(O,(t={className:"inner_card",width:800,title:"\ubb38\uc81c\ubaa9\ub85d\ub4e4",type:"problems",page:1},Object(j.a)(t,"page",1),Object(j.a)(t,"limit",20),t)))))}),P=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Problems!"))},C=(a(66),function(e){var t=Object(n.useState)({currentPost:{}}),a=Object(s.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){function t(){return(t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.requestGet(!1,"http://danny-server.kro.kr:5000/board/getPost/"+e.match.params.id).then((function(e){l({currentPost:e.data})})).catch((function(e){}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var o=c.currentPost,m=o.title,d=o.contents+"",p=o.writer,h=(o.when+"").substring(0,10);return r.a.createElement("div",{className:"Board_Main"},r.a.createElement("h1",null,m),r.a.createElement("a",{href:"/userinfo/:"+p},p),r.a.createElement("p",{className:"when"},h),r.a.createElement("div",{className:"contents"},r.a.createElement("div",{className:"inside",dangerouslySetInnerHTML:{__html:d}})))}),T=(a(67),function(e){var t=Object(n.useState)({currentPost:{isCompleted:!0}}),a=Object(s.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){function t(){return(t=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.requestGet(!1,"http://danny-server.kro.kr:5000/board/getProblems/"+e.match.params.id).then((function(t){console.log(t.data),l({currentPost:t.data}),x.requestGet(!1,"http://danny-server.kro.kr:5000/user/isSolve/"+h.a.load("userdata").username+"/"+e.match.params.id).then((function(e){t.data.isCompleted=e.data.isCompleted,l({currentPost:t.data})})).catch((function(e){}))})).catch((function(e){}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var o=c.currentPost,m=(o.example+"").toString().split("|");return r.a.createElement("div",{className:"problems"},null!=o?r.a.createElement(n.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,o.id,". ",o.name),r.a.createElement("p",null,"\uc81c\ud55c\uc2dc\uac04 : 2\ucd08"),c.currentPost.isCompleted?r.a.createElement("p",null,"\uc774\ubbf8 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4!"):r.a.createElement("a",{href:"/sendPost/"+o.id},"\uc81c\ucd9c\ud558\uae30")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},"\uc124\uba85"),r.a.createElement("div",{className:"inside",dangerouslySetInnerHTML:{__html:o.introduce}})),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},"\uc785\ub825\uac12"),r.a.createElement("div",{className:"inside"},o.input)),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},"\ucd9c\ub825\uac12"),r.a.createElement("div",{className:"inside"},o.output)),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},"\uc608\uc81c"),r.a.createElement("div",{className:"inside"},null!=m?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"input",dangerouslySetInnerHTML:{__html:m[0]}}),r.a.createElement("div",{className:"output",dangerouslySetInnerHTML:{__html:m[1]}})):""))):r.a.createElement("header",null,"Error"))}),S=(a(68),function(e){var t=Object(n.useState)({value:""}),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({value:"\uc81c\ucd9c\ud558\uc9c0 \uc54a\uc74c"}),u=Object(s.a)(o,2),i=u[0],m=u[1];return r.a.createElement("div",{className:"code"},r.a.createElement("textarea",{rows:"20",cols:"100",onChange:function(e){return l({value:e.target.value})}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){console.log(c.value),m({value:"\uc81c\ucd9c\uc911..."}),x.requestPost("http://danny-server.kro.kr:5000/compiler/write",{username:h.a.load("userdata").username,id:e.match.params.id,code:c.value}).then((function(t){m({value:"\ucef4\ud30c\uc77c\uc911..."}),x.requestGet(!1,"http://danny-server.kro.kr:5000/compiler/"+h.a.load("userdata").username+"/"+e.match.params.id).then((function(e){console.log(e),e.data.score===e.data.max&&alert("\uc644\ubcbd\ud569\ub2c8\ub2e4!"),m({value:e.data.score+" / "+e.data.max})}))}))}},"\uc81c\ucd9c\ud558\uae30"),r.a.createElement("p",null,i.value))}),_=function(e){return r.a.createElement("div",null,r.a.createElement(w.a,{hasToken:e.hasToken,exact:!0,path:"/",component:N}),r.a.createElement(w.a,{hasToken:e.hasToken,exact:!0,path:"/#",component:N}),r.a.createElement(w.a,{hasToken:e.hasToken,path:"/problems/:id",component:P}),r.a.createElement(w.a,{hasToken:e.hasToken,path:"/boards/:id",component:C}),r.a.createElement(w.a,{path:"/problem/:id",component:T}),r.a.createElement(w.a,{path:"/sendPost/:id",component:S}))};var q=function(){var e=Object(n.useState)({showPopup:!1}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({idx:0}),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)({hasCookie:null!=h.a.load("userdata"),username:null==h.a.load("userdata")?"":h.a.load("userdata").username}),d=Object(s.a)(m,2),p=d[0],f=d[1],E=function(){c({showPopup:!a.showPopup})},k=function(e,t){console.log("OK"),E(),f({hasCookie:e,username:t})};return r.a.createElement("div",{className:"App"},r.a.createElement(g,{updateToken:k,hasToken:p.hasCookie,username:p.hasCookie?h.a.load("userdata").username:"",press:function(e){E(),i({idx:e})}}),r.a.createElement(_,{hasToken:p.hasCookie}),a.showPopup?r.a.createElement(v,{updateToken:k,closePopup:E,idx:u.idx}):null)},I=a(76),L=a(16);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I.a,null,r.a.createElement(L.a,null,r.a.createElement(q,null)))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.d6116c90.chunk.js.map